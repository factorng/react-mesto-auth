{"version":3,"sources":["images/logo.svg","images/info-tool-tip-success.svg","images/info-tool-tip-failure.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","utils/utils.js","utils/Api.js","utils/auth.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","components/App.js","index.js"],"names":["module","exports","Header","userData","signOut","className","src","logoPath","alt","path","to","exact","email","onClick","type","CurrentUserContext","React","createContext","Card","card","onCardLike","onCardDelete","onCardClick","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","handleCardClick","handleCardLike","handleCardDelete","cards","avatar","about","aria-label","map","index","key","Footer","ImagePopup","isOpen","onClose","toString","PopupWithForm","formName","onSubmit","title","children","buttonText","method","action","noValidate","EditProfilePopup","onUpdateUser","isButtonProgress","useState","setName","occupation","setOccupation","useEffect","e","preventDefault","id","value","onChange","target","placeholder","minLength","maxLength","pattern","required","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","defaultValue","AddPlacePopup","onAddCard","placeName","setPlaceName","placeLink","setPlaceLink","ConfirmDeletePopup","onSubmitClick","apiSettings","url","auth","api","settings","this","baseUrl","fetch","headers","authorization","then","result","ok","json","Promise","reject","status","body","JSON","stringify","newAvatar","res","statusText","BASE_URL","Login","setEmail","password","setPassword","Register","ProtectedRoute","Component","component","props","loggedIn","InfoTooltip","isOK","success","failure","App","setIsButtonProgress","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmDeletePopupOpen","setIsConfirmDeletePopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","cardToDelete","setCardToDelete","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setUserData","history","useHistory","tokenCheck","useCallback","token","jwt","localStorage","getItem","Accept","Authorization","Error","data","push","catch","err","console","log","closeAllPopups","all","getUserInfo","getInitialCards","Provider","removeItem","setItem","changeLikeCardStatus","newCard","newCards","c","cardDelete","updateUserProfile","finally","addNewCard","setUserAvatar","deleteCard","filter","ReactDOM","render","StrictMode","document","querySelector"],"mappings":"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","file":"static/js/main.fbaf00e5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/info-tool-tip-success.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/info-tool-tip-failure.f10ac534.svg\";","import React from 'react';\nimport { Link, Route } from 'react-router-dom';\nimport logoPath from '../images/logo.svg';\n\nfunction Header({ userData, signOut }) {\n  return (\n        <header className=\"header\">\n            <img src={logoPath} alt=\"логотип Место\" className=\"header__logo\" />\n            <Route path=\"/signup\">\n              <Link to=\"/signin\" className=\"header__link\">Войти</Link>\n            </Route>\n            <Route path=\"/signin\">\n              <Link to=\"/signup\" className=\"header__link\">Регистрация</Link>\n            </Route>\n            <Route exact path=\"/\">\n                <p className=\"header__account\">{userData && userData.email}\n                  <button className=\"header__button\" onClick={signOut} type=\"button\">Выйти</button>\n                </p>\n            </Route>\n        </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({\n  card, onCardLike, onCardDelete, onCardClick,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = card.owner._id === currentUser._id;\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = (`place__button-delete ${isOwn ? '' : 'place__button-delete_hidden'}`);\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = (`place__button-like ${isLiked ? 'place__button-like_active' : ''}`);\n\n  return (\n    <div className=\"place\">\n      <img\n        src={card.link}\n        alt={card.name}\n        className=\"place__image\"\n        onClick={() => onCardClick(card)}\n      />\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={() => onCardDelete(card)} />\n      <div className=\"place__description\">\n        <h3 className=\"place__title\">{card.name}</h3>\n        <div className=\"place__like\">\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={() => onCardLike(card)}/>\n          <p className=\"place__like-count\">{card.likes.length}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({\n  onEditProfile, onAddPlace, onEditAvatar, handleCardClick, handleCardLike, handleCardDelete, cards,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n        <main>\n            <section className=\"profile\">\n                <img src={currentUser.avatar} alt=\"Аватар\" className=\"profile__logo\" />\n                <div className=\"profile__avatar-hover\" onClick={onEditAvatar}/>\n                <div className=\"profile__info\">\n                <div className=\"profile__user\">\n                    <h3 className=\"profile__name\">{currentUser.name}</h3>\n                    <p className=\"profile__occupation\">{currentUser.about}</p>\n                </div>\n                <button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile}/>\n                </div>\n                <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace}/>\n            </section>\n            <section className=\"places\" aria-label=\"Элементы\">\n                {(cards.map((card, index) => <Card key={index} onCardLike={handleCardLike} onCardDelete={handleCardDelete} card={card} onCardClick={handleCardClick}/>))}\n            </section>\n        </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n        </footer>\n  );\n}\nexport default Footer;\n","import React from 'react';\n\nfunction ImagePopup({\n  isOpen, link, name, onClose,\n}) {\n  return (\n        <div className={(isOpen ? 'popup show-photo popup_open' : 'popup show-photo')}>\n            <div className=\"show-photo__window\">\n            <button\n                className=\"popup__button-close show-photo__button-close\"\n                type=\"button\"\n                aria-label=\"закрыть\"\n                onClick={onClose}\n            />\n            <img\n                src={link.toString()}\n                alt={name}\n                className=\"show-photo__image\"\n            />\n            <p className=\"show-photo__title\">{name}</p>\n            </div>\n        </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nfunction PopupWithForm({\n  isOpen, className, formName, onSubmit, onClose, title, children, buttonText,\n}) {\n  return (\n      <div className={(isOpen ? `popup  ${className} popup_open` : `popup  ${className}`)}>\n        <form\n          className={`popup__form ${formName}`}\n          method=\"post\"\n          action=\"#\"\n          noValidate\n          onSubmit={onSubmit}\n        >\n          <button\n            className=\"popup__button-close\"\n            type=\"button\"\n            aria-label=\"закрыть\"\n            onClick={onClose}\n          />\n          <h3 className=\"popup__title\">{title}</h3>\n          {children}\n          <button\n            className=\"popup__button-submit\"\n            type=\"submit\"\n          >\n            {buttonText}\n          </button>\n        </form>\n      </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({\n  isOpen, onClose, onUpdateUser, isButtonProgress,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [occupation, setOccupation] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setOccupation(currentUser.about);\n  }, [currentUser]);\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name,\n      occupation,\n    });\n  }\n\n  function handleClose() {\n    onClose();\n    setName(currentUser.name);\n    setOccupation(currentUser.about);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={handleClose}\n      title=\"Редактировать профиль\"\n      buttonText={isButtonProgress ? 'Сохранение...' : 'Сохранить'}\n      onSubmit={handleSubmit}\n    >\n        <>\n          <div className=\"popup__input-field\">\n            <input\n              id=\"input-name\"\n              className=\"popup__input edit-profile__input-name\"\n              type=\"text\"\n              value={name || ''}\n              onChange={(e) => setName(e.target.value)}\n              name=\"name\"\n              placeholder=\"Введите имя\"\n              minLength={2}\n              maxLength={40}\n              pattern=\"^[A-Za-zА-ЯЁа-яё -]+$\"\n              required\n            />\n            <span id=\"input-name-error\" className=\"popup__input-error\" />\n          </div>\n          <div className=\"popup__input-field\">\n            <input\n              id=\"input-occupation\"\n              className=\"popup__input edit-profile__input-occupation\"\n              type=\"text\"\n              value={occupation || ''}\n              onChange={(e) => setOccupation(e.target.value)}\n              name=\"occupation\"\n              placeholder=\"Род занятий\"\n              minLength={2}\n              maxLength={200}\n              required\n            />\n            <span id=\"input-occupation-error\" className=\"popup__input-error\" />\n          </div>\n        </>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React, { useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({\n  isOpen, onClose, onUpdateAvatar, isButtonProgress,\n}) {\n  const inputRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: inputRef.current.value,\n    });\n  }\n  function handleClose() {\n    onClose();\n  }\n  useEffect(() => {\n    inputRef.current.value = '';\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      className=\"change-avatar\"\n      formName=\"change-avatar__form\"\n      title=\"Обновить аватар\"\n      buttonText={isButtonProgress ? 'Сохранение...' : 'Сохранить'}\n      onClose={handleClose}\n      onSubmit={handleSubmit}\n    >\n      <div className=\"popup__input-field\">\n        <input\n          className=\"popup__input change-avatar__input-link\"\n          ref={inputRef}\n          type=\"url\"\n          id=\"change-avatar__input-link\"\n          name=\"link\"\n          defaultValue=\"\"\n          placeholder=\"Ссылка на картинку\"\n          required\n        />\n        <span\n          id=\"change-avatar__input-link-error\"\n          className=\"popup__input-error\"\n        ></span>\n      </div>\n    </PopupWithForm>\n  );\n}\nexport default EditAvatarPopup;\n","import React, { useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({\n  isOpen, onClose, onAddCard, isButtonProgress,\n}) {\n  const [placeName, setPlaceName] = React.useState('');\n  const [placeLink, setPlaceLink] = React.useState('');\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onAddCard({\n      placeName,\n      placeLink,\n    });\n    setPlaceLink('');\n    setPlaceName('');\n  }\n  function handleClose() {\n    onClose();\n  }\n\n  useEffect(() => {\n    setPlaceLink('');\n    setPlaceName('');\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      className=\"add-card\"\n      formName=\"add-card__form\"\n      title=\"Новое место\"\n      buttonText={isButtonProgress ? 'Сохранение...' : 'Создать'}\n      onSubmit={handleSubmit}\n      onClose={handleClose}\n    >\n        <div className=\"popup__input-field\">\n          <input\n            className=\"popup__input add-card__input-name\"\n            type=\"text\"\n            id=\"input-place-name\"\n            name=\"name\"\n            value={placeName}\n            onChange={(e) => setPlaceName(e.target.value)}\n            placeholder=\"Название\"\n            minLength={2}\n            maxLength={30}\n            required\n          />\n          <span id=\"input-place-name-error\" className=\"popup__input-error\" />\n        </div>\n        <div className=\"popup__input-field\">\n          <input\n            className=\"popup__input add-card__input-link\"\n            type=\"url\"\n            id=\"input-place-link\"\n            name=\"link\"\n            value={placeLink}\n            onChange={(e) => setPlaceLink(e.target.value)}\n            placeholder=\"Ссылка на картинку\"\n            required\n          />\n          <span id=\"input-place-link-error\" className=\"popup__input-error\" />\n        </div>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\n\nfunction ConfirmDeletePopup({\n  isOpen, onSubmitClick, onClose, isButtonProgress,\n}) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onSubmitClick();\n  }\n\n  return (\n        <div\n        className={\n            isOpen ? 'popup  confirmation popup_open' : 'popup  confirmation'\n        }\n        >\n        <form\n            className=\"popup__form confirmation__form\"\n            method=\"post\"\n            action=\"#\"\n            noValidate\n            onSubmit={handleSubmit}\n        >\n            <button\n            className=\"popup__button-close confirmation__button-close\"\n            type=\"button\"\n            aria-label=\"закрыть\"\n            onClick={onClose}\n            ></button>\n            <h3 className=\"popup__title\">Вы уверены?</h3>\n            <button className=\"popup__button-submit\" type=\"submit\" aria-label=\"Да\">\n                {isButtonProgress ? 'Удаление...' : 'Да'}\n            </button>\n        </form>\n        </div>\n  );\n}\n\nexport default ConfirmDeletePopup;\n","const apiSettings = {\n  url: 'https://mesto.nomoreparties.co/v1/cohort-13',\n  auth: 'bb89f9dd-ceae-40c2-90a7-950f4a7ba36d',\n};\nexport default apiSettings;\n","import apiSettings from './utils.js';\n\nexport class Api {\n  constructor(settings) {\n    this.baseUrl = settings.url;\n    this.auth = settings.auth;\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'GET',\n      headers: {\n        authorization: this.auth,\n      },\n    })\n      .then((result) => {\n        if (result.ok) {\n          return result.json();\n        }\n        return Promise.reject(`error${result.status}`);\n      });\n  }\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'GET',\n      headers: {\n        authorization: this.auth,\n      },\n    })\n      .then((result) => {\n        if (result.ok) {\n          return result.json();\n        }\n        return Promise.reject(`error${result.status}`);\n      });\n  }\n\n  updateUserProfile(name, about) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.auth,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    })\n      .then((result) => {\n        if (result.ok) {\n          return result.json();\n        }\n        return Promise.reject(`error${result.status}`);\n      });\n  }\n\n  addNewCard(name, link) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this.auth,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    })\n      .then((result) => result.json());\n  }\n\n  setUserAvatar(newAvatar) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.auth,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        avatar: newAvatar,\n      }),\n    })\n      .then((result) => {\n        if (result.ok) {\n          return result.json();\n        }\n        return Promise.reject(`error${result.status}`);\n      });\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this.auth,\n      },\n    })\n      .then((result) => {\n        if (result.ok) {\n          return result.json();\n        }\n        return Promise.reject(`error${result.status}`);\n      });\n  }\n\n  changeLikeCardStatus(id, status) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      method: `${(status) ? 'PUT' : 'DELETE'}`,\n      headers: {\n        authorization: this.auth,\n      },\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status} ${res.statusText}`);\n      });\n  }\n}\n\nconst api = new Api(apiSettings);\n\nexport default api;\n","const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) => fetch(`${BASE_URL}/signup`, {\r\n  method: 'POST',\r\n  headers: {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n  },\r\n  body: JSON.stringify({ email, password }),\r\n})\r\n  .then((res) => {\r\n    if (res.status !== 400) {\r\n      return res.json();\r\n    }\r\n    throw new Error('Некорректно заполнено одно из полей');\r\n  });\r\n\r\nexport const authorize = (email, password) => fetch(`${BASE_URL}/signin`, {\r\n  method: 'POST',\r\n  headers: {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n  },\r\n  body: JSON.stringify({ email, password }),\r\n})\r\n  .then((res) => {\r\n    if (res.status === 200) {\r\n      return res.json();\r\n    }\r\n    if (res.status === 400) {\r\n      throw new Error('Не передано одно из полей');\r\n    }\r\n    if (res.status === 401) {\r\n      throw new Error('Пользователь с email не найден');\r\n    }\r\n    throw new Error(`Ошибка авторизации: ${res.status}`);\r\n  });\r\n\r\nexport const getContent = (token) => fetch(`${BASE_URL}/users/me`, {\r\n  method: 'GET',\r\n  headers: {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n    Authorization: `Bearer ${token}`,\r\n  },\r\n})\r\n  .then((res) => {\r\n    if (res.status === 200) {\r\n      return res.json();\r\n    }\r\n    if (res.status === 400) {\r\n      throw new Error('Токен не передан или передан не в том формате');\r\n    }\r\n    if (res.status === 401) {\r\n      throw new Error('Переданный токен некорректен');\r\n    }\r\n    throw new Error(`Ошибка токена: ${res.status}`);\r\n  });\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Header from './Header';\r\n\r\nfunction Login({\r\n  onSubmit,\r\n}) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n    onSubmit(email, password);\r\n  }\r\n  useEffect(() => {\r\n    setEmail('');\r\n    setPassword('');\r\n  }, []);\r\n\r\n  return (\r\n    <div className='login-popup popup_open'>\r\n      <Header/>\r\n      <form className=\"login-popup__form\" method=\"post\" action=\"#\" noValidate onSubmit={handleSubmit}>\r\n        <h3 className=\"login-popup__title\">Вход</h3>\r\n        <input\r\n          className=\"login-popup__input\"\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          required\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          value={email || ''}\r\n        />\r\n        <input\r\n          className=\"login-popup__input\"\r\n          type=\"password\"\r\n          placeholder=\"Пароль\"\r\n          required\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          value={password || ''}\r\n        />\r\n        <button\r\n          className=\"login-popup__button-submit\"\r\n          type=\"submit\"\r\n          aria-label=\"Войти\"\r\n        >\r\n          Войти\r\n        </button>\r\n        <div className=\"login-popup__register\">\r\n          Ещё не зарегистрированы?\r\n          <Link to=\"/signup\" className=\"login-popup__link\">Регистрация</Link>\r\n        </div>\r\n      </form>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useEffect } from 'react'; import { Link } from 'react-router-dom';\r\nimport Header from './Header';\r\n\r\nfunction Register({\r\n  onSubmit,\r\n}) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onSubmit(email, password);\r\n  }\r\n  useEffect(() => {\r\n    setEmail('');\r\n    setPassword('');\r\n  }, []);\r\n\r\n  return (\r\n    <div className='login-popup popup_open'>\r\n      <Header/>\r\n      <form className=\"login-popup__form\" method=\"post\" action=\"#\" noValidate onSubmit={handleSubmit}>\r\n        <h3 className=\"login-popup__title\">Регистрация</h3>\r\n        <input\r\n          className=\"login-popup__input\"\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          required\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          value={email || ''}\r\n        />\r\n        <input\r\n          className=\"login-popup__input\"\r\n          type=\"password\"\r\n          placeholder=\"Пароль\"\r\n          required\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          value={password || ''}\r\n        />\r\n        <button\r\n          className=\"login-popup__button-submit\"\r\n          type=\"submit\"\r\n          aria-label=\"Войти\"\r\n        >\r\n          Войти\r\n        </button>\r\n        <div className=\"login-popup__register\">\r\n          Уже зарегистрированы?\r\n          <Link to=\"/signin\" className=\"login-popup__link\">Войти</Link>\r\n        </div>\r\n      </form>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => (\r\n    <Route >\r\n      {\r\n        () => (props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"./sign-up\"/>)\r\n      }\r\n    </Route>\r\n);\r\n\r\nexport default ProtectedRoute;\r\n","import React from 'react';\r\nimport success from '../images/info-tool-tip-success.svg';\r\nimport failure from '../images/info-tool-tip-failure.svg';\r\n\r\nfunction InfoTooltip({\r\n  isOpen, onClose, isOK,\r\n}) {\r\n  return (\r\n    <div className={(isOpen ? 'popup  popup_open' : 'popup ')}>\r\n          <div className=\"info-tooltip\">\r\n          <button\r\n                className=\"popup__button-close\"\r\n                type=\"button\"\r\n                aria-label=\"закрыть\"\r\n                onClick={onClose}\r\n            />\r\n            <img src={isOK ? success : failure}\r\n                 alt={isOK ? 'Успешная регистрация.' : 'Ошибка при регистрации'}\r\n                 className=\"popup__image_type_infoTooltip\"/>\r\n            <h2 className=\"popup__title_type_infoTooltip\">\r\n              {isOK ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n            </h2>\r\n          </div>\r\n        </div>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React, { useCallback, useEffect, useState } from 'react';\nimport {\n  Route, Switch, Redirect, useHistory,\n} from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmDeletePopup from './ConfirmDeletePopup';\nimport api from '../utils/Api';\nimport * as auth from '../utils/auth';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\n\nfunction App() {\n  const [isButtonProgress, setIsButtonProgress] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false,\n  );\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false,\n  );\n  const [isConfirmDeletePopupOpen, setIsConfirmDeletePopupOpen] = useState(\n    false,\n  );\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [cardToDelete, setCardToDelete] = useState('');\n  const [selectedCard, setSelectedCard] = React.useState({\n    isOpen: false,\n    name: '',\n    link: '',\n  });\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userData, setUserData] = React.useState(null);\n  const history = useHistory();\n\n  const tokenCheck = useCallback(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth.getContent(jwt)\n        .then((res) => {\n          if (res) {\n            setUserData({\n              id: res.data._id,\n              email: res.data.email,\n            });\n            setLoggedIn(true);\n            history.push('/');\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          setLoggedIn(false);\n          setIsInfoTooltipOpen(true);\n          history.push('/signin');\n        });\n    }\n  }, [history]);\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, [loggedIn, tokenCheck]);\n\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([userData, cards]) => {\n        setCards(cards);\n        setCurrentUser(userData);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n      // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        // Обновляем стейт\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  function handleCardClick({ name, link }) {\n    setSelectedCard({\n      isOpen: true,\n      name,\n      link,\n    });\n  }\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsConfirmDeletePopupOpen(false);\n    setSelectedCard({\n      isOpen: false,\n      name: '',\n      link: '',\n    });\n    setIsInfoTooltipOpen(false);\n  }\n  function handleAddPlaceSubmit({ placeName, placeLink }) {\n    setIsButtonProgress(true);\n    api\n      .addNewCard(placeName, placeLink)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .then(() => setIsAddPlacePopupOpen(false))\n      .catch((err) => console.log(err))\n      .finally(() => setIsButtonProgress(false));\n  }\n\n  function handleUpdateUser({ name, occupation }) {\n    setIsButtonProgress(true);\n    api\n      .updateUserProfile(name, occupation)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .then(() => setIsEditProfilePopupOpen(false))\n      .catch((err) => console.log(err))\n      .finally(() => setIsButtonProgress(false));\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    setIsButtonProgress(true);\n    api\n      .setUserAvatar(avatar)\n      .then((res) => {\n        setCurrentUser({ ...currentUser, avatar: res.avatar });\n        closeAllPopups();\n      })\n      .then(() => setIsEditAvatarPopupOpen(false))\n      .catch((err) => console.log(err))\n      .finally(() => setIsButtonProgress(false));\n  }\n  function handleCardDelete(cardDelete) {\n    setIsConfirmDeletePopupOpen(true);\n    setCardToDelete(cardDelete);\n  }\n\n  function handleCofirmDelete(cardDelete = cardToDelete) {\n    setIsButtonProgress(true);\n    api\n      .deleteCard(cardDelete._id)\n      .then(() => {\n        const newCards = cards.filter((card) => card._id !== cardDelete._id);\n        setCards(newCards);\n      })\n      .then(() => setIsConfirmDeletePopupOpen(false))\n      .catch((err) => console.log(err))\n      .finally(() => setIsButtonProgress(false));\n  }\n\n  function handleLogin(email, password) {\n    return auth.authorize(email, password)\n      .then((res) => {\n        if (res && res.token) {\n          localStorage.setItem('jwt', res.token);\n          tokenCheck();\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoggedIn(false);\n        setIsInfoTooltipOpen(true);\n      });\n  }\n\n  function handleRegister(email, password) {\n    return auth.register(email, password)\n      .then((res) => {\n        history.push('/signin');\n        setLoggedIn(true);\n        setIsInfoTooltipOpen(true);\n      })\n      .catch((err) => {\n        setIsInfoTooltipOpen(true);\n        console.log(err);\n      });\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem('jwt');\n    history.push('/signin');\n    setLoggedIn(false);\n  }\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header userData={userData} signOut={handleSignOut}/>\n        <Switch>\n          <Route path=\"/signin\">\n            <Login onSubmit={handleLogin}/>\n          </Route>\n          <Route path=\"/signup\">\n            <Register onSubmit={handleRegister} />\n          </Route>\n          <ProtectedRoute\n              exact path=\"/\"\n              loggedIn={loggedIn}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              handleCardClick={handleCardClick}\n              handleCardLike={handleCardLike}\n              handleCardDelete={handleCardDelete}\n              cards={cards}\n              component={Main}\n          />\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n          </Route>\n        </Switch>\n        <Footer />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isButtonProgress={isButtonProgress}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddCard={handleAddPlaceSubmit}\n          isButtonProgress={isButtonProgress}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          isButtonProgress={isButtonProgress}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <ImagePopup {...selectedCard} onClose={closeAllPopups} />\n        <ConfirmDeletePopup\n          isOpen={isConfirmDeletePopupOpen}\n          onClose={closeAllPopups}\n          onSubmitClick={handleCofirmDelete}\n          isButtonProgress={isButtonProgress}\n        />\n        <InfoTooltip isOpen={isInfoTooltipOpen} onClose={closeAllPopups} isOK={loggedIn}/>\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.querySelector('#root'),\n);\n"],"sourceRoot":""}